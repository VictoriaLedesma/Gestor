{% extends "base.html" %}

{% block title %}Ge$tor{% endblock %}

{% block content %}
<div class="summary-card-dashboard">
    <div class="summary-content-dashboard">
        <div class="summary-left-dashboard">
            <h1 class="greeting-title-dashboard">Bienvenido, {{ usuario }}</h1>
            <p class="greeting-text-dashboard"><strong>Acá podrás visualizar un resumen<br>de tus movimientos mensuales</strong></p>
        </div>
        <div class="summary-center-dashboard">
            <div class="available-amount-dashboard"><strong>Disponible: $123456</strong></div>
            <div class="monthly-stats-dashboard">
                <div><strong>Ingresos mensuales: $123456</strong></div>
                <div><strong>Egresos mensuales: $123456</strong></div>
            </div>
        </div>
        <div class="summary-right-dashboard">
            <button class="btn btn-primary-ingresos" onclick="window.location.href='#modal-add-expense'">Agregar gasto</button>
<button class="btn btn-secondary-ingresos" onclick="window.location.href='#modal-edit-income'">Editar ingresos</button>
        </div>
    </div>
</div>

<div class="dashboard-grid-dashboard mt-4">
    <!-- Sección de últimos ingresos -->
    <div class="transactions-section-dashboard">
        <div class="section-header-dashboard d-flex justify-content-between align-items-center">
            <h2 class="section-title-dashboard">Últimos ingresos</h2>
            <a href="{{ url_for('ingresos') }}" class="ver-todo-dashboard">Ver todo</a>
        </div>
        <div class="transactions-list-dashboard">
            <div class="transaction-item-dashboard">
                <span class="amount-income-dashboard">$1234</span>
                <span class="badge bg-primary">Categoría</span>
            </div>
            <div class="transaction-item-dashboard">
                <span class="amount-income-dashboard">$1234</span>
                <span class="badge bg-secondary">Categoría</span>
            </div>
            <div class="transaction-item-dashboard">
                <span class="amount-income-dashboard">$1234</span>
                <span class="badge bg-success">Categoría</span>
            </div>
        </div>

        <!-- Sección de últimos egresos -->
        <div class="section-header-dashboard d-flex justify-content-between align-items-center mt-4">
            <h2 class="section-title-dashboard">Últimos egresos</h2>
            <a href="{{ url_for('ingresos') }}" class="ver-todo-dashboard">Ver todo</a>
        </div>
        <div class="transactions-list-dashboard">
            <div class="transaction-item-dashboard">
                <span class="amount-expense-dashboard">$1234</span>
                <span class="badge bg-primary">Categoría</span>
            </div>
            <div class="transaction-item-dashboard">
                <span class="amount-expense-dashboard">$1234</span>
                <span class="badge bg-secondary">Categoría</span>
            </div>
            <div class="transaction-item-dashboard">
                <span class="amount-expense-dashboard">$1234</span>
                <span class="badge bg-danger">Categoría</span>
            </div>
        </div>
    </div>

    <!-- Sección de gráficos -->
    <div class="chart-section-dashboard mt-4">
        <div class="section-header-dashboard d-flex justify-content-between align-items-center">
            <h2 class="section-title-dashboard">Egresos por categoría</h2>
            <a href="#" class="chart-toggle-dashboard">Porcentaje de ahorro</a>
        </div>
        <div class="chart-container-dashboard">
            <!-- Espacio reservado para un gráfico generado dinámicamente -->
            <div id="chart-placeholder-dashboard"></div>
        </div>
    </div>
</div>

<!-- Form Agregar Gasto -->
<div class="modal-expenses" id="modal-add-expense">
    <div class="modal-content-expenses">
        <div class="modal-header-expenses">
            <h2 class="modal-title-expenses">Agregar gasto</h2>
            <a href="#" class="modal-close-expenses">✕</a>
        </div>
        <form method="post" action="{{ url_for('home') }}" class="modal-form-expenses">
            <div class="form-group-expenses">
                <label class="form-label-expenses"><strong>Monto</strong></label> 
                <input type="number" name="amount" class="form-input-expenses" placeholder="Ingrese el monto" required>
            </div>
            <div class="form-group-expenses">
                <label class="form-label-expenses"><strong>Categoría</strong></label>
                <div class="select-wrapper-expenses">
                    <select name="category" class="form-select-expenses" required>
                        <option value="" disabled selected>Seleccione una categoría</option>
                        <option value="1">Categoría 1</option>
                        <option value="2">Categoría 2</option>
                        <option value="3">Categoría 3</option>
                    </select>
                </div>
            </div>
            <div class="form-group-expenses">
                <label class="form-label-expenses"><strong>Descripción</strong></label>
                <textarea name="description" class="form-textarea-expenses" placeholder="Ingrese una descripción"></textarea>
            </div>
            <button type="submit" class="submit-button-expenses">Ingresar</button>
        </form>
    </div>
</div>

<!-- Form Editar Ingresos -->
<div class="modal-expenses" id="modal-edit-income">
    <div class="modal-content-expenses">
        <div class="modal-header-expenses">
            <h2 class="modal-title-expenses">Editar ingresos</h2>
            <a href="#" class="modal-close-expenses">✕</a>
        </div>
        <form method="post" action="{{ url_for('home') }}" class="modal-form-expenses">
            <div class="form-group-expenses">
                <label class="form-label-expenses"><strong>Monto</strong></label>
                <input type="number" name="amount" class="form-input-expenses" placeholder="Ingrese el monto" required>
            </div>
            <div class="form-group-expenses">
                <label class="form-label-expenses"><strong>Categoría</strong></label>
                <div class="select-wrapper-expenses">
                    <select name="category" class="form-select-expenses" required>
                        <option value="" disabled selected>Seleccione una categoría</option>
                        <option value="1">Categoría 1</option>
                        <option value="2">Categoría 2</option>
                        <option value="3">Categoría 3</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="submit-button-expenses">Ingresar</button>
        </form>
    </div>
</div>

{% endblock %}